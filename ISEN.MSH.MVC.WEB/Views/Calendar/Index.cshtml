@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
@section head{
<link rel="stylesheet" href="@Url.Content("~/Scripts/jquery-ui-1.9.0.custom/css/smoothness/jquery-ui-1.9.0.custom.css")" />
<link rel="stylesheet" type="text/css" href="@Url.Content("~/Scripts/fullcalendar/cupertino/theme.css")" />
<link rel="stylesheet" type="text/css" href="@Url.Content("~/Scripts/fullcalendar/fullcalendar.css")" />
<link rel="stylesheet" type="text/css" href="@Url.Content("~/Scripts/fullcalendar/fullcalendar.print.css")" media="print" />
<script type="text/javascript" src="@Url.Content("~/Scripts/jquery-ui-1.9.0.custom/js/jquery-ui-1.9.0.custom.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/fullcalendar/fullcalendar.js")"></script>
<link href="@Url.Content("~/Scripts/Contextmenu/skins/default/AeroWindow-Contextmenu.css")" rel="stylesheet"/>
<script src="@Url.Content("~/Scripts/Contextmenu/js/AeroWindow-Contextmenu.js")" type="text/javascript"></script>

<script type="text/javascript">
    $(function () {
        $(".date-picker").focus(function () {
            //alert("asdf");
        });
        $(".date-picker").datepicker();
    });
</script>

<script type="text/javascript">
    $(document).ready(function () {
        var date = new Date();
        var d = date.getDate();
        var m = date.getMonth();
        var y = date.getFullYear();

        var calendar = $('#calendar').fullCalendar({
            theme: true,
            header: {
                left: 'prev,next today',
                center: 'title',
                right: 'month,agendaWeek,agendaDay'
            },
            selectable: true,
            selectHelper: true,
            select: function (start, end, allDay) {
                $(".WincontextMenu").remove();
                $(".fc-cell-overlay,.fc-select-helper").WinContextMenu(
                {
                    flash: 1,
                    items: [
                    {
                        id: "newEvent",
                        text: "新建事务",
                        icon: "../../../scripts/Contextmenu/skins/default/contextmenu/icons/new.png",
                        disable: 0, //新增加true/false
                        action: function () {
                            $("<a href='#newdlgmeet' display='none'>#newdlgmeet</a>").appendTo(document.body);
                            $("a[href*='#newdlgmeet']").facebox();
                            $("a[href*='#newdlgmeet']").trigger("click");
                        } //按照项添加
                    },
		            {
		                id: "newMeeting",
		                text: "发起会议",
		                icon: "../../../scripts/Contextmenu/skins/default/contextmenu/icons/Calendar.png",
		                action: function () { alert('Second-item2') } //按照项添加
		            }],
                    action: function (e) {
                        alert(e.id);
                    } //自由设计项事件回调
                });
            },
            unselectAuto: false,
            eventClick: function (calEvent, jsEvent, view) {
                $(".WincontextMenu").remove();
            },
            eventRender: function (calEvent, element, view) {
                element.WinContextMenu({
                    items: [
                    {
                        id: "edit",
                        text: "编辑",
                        icon: "../../../scripts/Contextmenu/skins/default/contextmenu/icons/Pinion.png",
                        disable: 0, //新增加true/false
                        action: function () { alert('first-item1') } //按照项添加
                    },
		            {
		                id: "delete",
		                text: "删除",
		                icon: "../../../scripts/Contextmenu/skins/default/contextmenu/icons/Left-right.png",
		                action: function () { alert('Second-item2') } //按照项添加
		            }],
                    action: function (e) {
                        alert(e.id);
                    } //自由设计项事件回调
                });
            },
            editable: true,
            events: [
				{ title: 'All Day Event', start: new Date(y, m, 1) },
				{ title: 'Long Event', start: new Date(y, m, d - 5), end: new Date(y, m, d - 2) },
				{ id: 999, title: 'Repeating Event', start: new Date(y, m, d - 3, 16, 0), allDay: false },
				{ id: 999, title: 'Repeating Event', start: new Date(y, m, d + 4, 16, 0), allDay: false },
				{ title: 'Meeting', start: new Date(y, m, d, 10, 30), allDay: false },
				{ title: 'Lunch', start: new Date(y, m, d, 12, 0), end: new Date(y, m, d, 14, 0), allDay: false },
				{ title: 'Birthday Party', start: new Date(y, m, d + 1, 19, 0), end: new Date(y, m, d + 1, 22, 30), allDay: false },
				{ title: 'Click for Google', start: new Date(y, m, 28), end: new Date(y, m, 29), url: 'http://google.com/' }
			]
        });

    });
</script>

<style type="text/css">
	body {
		margin-top: 40px;
		text-align: center;
		font-size: 14px;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
		}

	#calendar {
		width: 900px;
		margin: 0 auto;
		}
</style>

}
<div id="calendar"></div>
<div id="newdlgmeet" style="display:none">
<fieldset>
<form>
<p><h2>新建事务</h2></p>
<p><label class="facebox-inline">主题：</label><input class="text-input small-input-long" type="text" /></p>
<p><label class="facebox-inline">全天事件：</label><input  type="checkbox" /></p>
<p><label class="facebox-inline">开始时间：</label><input id="test1" class="text-input small-input date-picker" type="text" />&nbsp;&nbsp;@Html.Partial("TimePicker")</p>
<p><label class="facebox-inline">结束时间：</label><input class="text-input small-input date-picker" type="text" />&nbsp;&nbsp;@Html.Partial("TimePicker")</p>
<p><label class="facebox-inline">提醒时间：提前&nbsp;</label><select class="small-input facebox-inline"><option value="5">5分钟</option><option value="15">15分钟</option></select>&nbsp;<input type="checkbox" /></p>
<p><label class="facebox-inline">内容：</label></p>
<textarea class="text-input textarea small-input-long" rows=6></textarea>
</form>
</fieldset>
</div>
<input class="date-picker" type="text" />